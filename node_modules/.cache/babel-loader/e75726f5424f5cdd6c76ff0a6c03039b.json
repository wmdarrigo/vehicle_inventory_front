{"ast":null,"code":"import _objectSpread from\"C:/Users/19547/dev/frontend_vehicle_listing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/19547/dev/frontend_vehicle_listing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Table,Space}from'antd';import PostBike from'./PostBike';import UpdateBike from'./UpdateBike';import{DeleteOutlined,EditOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Inventory=function Inventory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bikes=_useState2[0],setBikes=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showForm=_useState4[0],setShowForm=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedBike=_useState6[0],setSelectedBike=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),refresh=_useState8[0],setRefresh=_useState8[1];var Column=Table.Column;var columns=[{title:'Year',dataIndex:'year',key:'year'},{title:'Make',dataIndex:'make',key:'make'},{title:'Model',dataIndex:'model',key:'model'},{title:'Color',dataIndex:'color',key:'color'},{title:'CC',dataIndex:'CC',key:'CC'},{title:'Miles',dataIndex:'miles',key:'miles'},{title:'Price',dataIndex:'price',key:'price'},{title:'NADA',dataIndex:'NADA',key:'NADA'},{title:'KBB',dataIndex:'KBB',key:'KBB'},{title:'Action',key:'action',render:function render(record){return/*#__PURE__*/_jsxs(Space,{size:\"middle\",children:[/*#__PURE__*/_jsx(DeleteOutlined,{onClick:function onClick(){return deleteBike(record._id);}}),/*#__PURE__*/_jsx(EditOutlined,{onClick:function onClick(){setSelectedBike(record);setShowForm(!showForm);}})]});}}];useEffect(function(){fetch('https://dealership-vehicle-inventory.herokuapp.com/bikes').then(function(res){return res.json();}).then(function(data){return setBikes(data);});setRefresh(false);},[refresh]);var addKeyProp=function addKeyProp(tableData){var newTable=[];var counter=1;tableData.forEach(function(data){newTable.push(_objectSpread(_objectSpread({},data),{},{key:counter}));counter+=1;});return newTable;};var deleteBike=function deleteBike(id){fetch('https://dealership-vehicle-inventory.herokuapp.com/bikes'+id,{method:'DELETE',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(data){console.log('Deletion Success: ',data);}).catch(function(error){console.error('Error: ',error);});setRefresh(true);};// information such as sold, date listed, date sold, COGS, revenue, notes, customer, should be hidden. If user clicks icon show more, then a modal will appear with the info\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[selectedBike&&/*#__PURE__*/_jsx(UpdateBike,{showForm:showForm,setShowForm:setShowForm,setRefresh:setRefresh,selectedBike:selectedBike,setSelectedBike:setSelectedBike}),/*#__PURE__*/_jsx(Table,{dataSource:addKeyProp(bikes),columns:columns,style:{padding:'20px 50px'},children:/*#__PURE__*/_jsx(Column,{title:\"Action\"},\"action\")}),/*#__PURE__*/_jsx(PostBike,{setRefresh:setRefresh})]});};export default Inventory;","map":{"version":3,"sources":["C:/Users/19547/dev/frontend_vehicle_listing/src/components/Inventory.jsx"],"names":["React","useEffect","useState","Table","Space","PostBike","UpdateBike","DeleteOutlined","EditOutlined","Inventory","bikes","setBikes","showForm","setShowForm","selectedBike","setSelectedBike","refresh","setRefresh","Column","columns","title","dataIndex","key","render","record","deleteBike","_id","fetch","then","res","json","data","addKeyProp","tableData","newTable","counter","forEach","push","id","method","headers","response","console","log","catch","error","padding"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Table, Space } from 'antd'\r\nimport PostBike from './PostBike'\r\nimport UpdateBike from './UpdateBike'\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons' \r\n\r\nconst Inventory = () => {\r\n    const [bikes, setBikes] = useState([])\r\n    const [showForm, setShowForm] = useState(false)\r\n    const [selectedBike, setSelectedBike] = useState(null)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const { Column } = Table;\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Year',\r\n            dataIndex: 'year',\r\n            key: 'year',\r\n        },\r\n        {\r\n            title: 'Make',\r\n            dataIndex: 'make',\r\n            key: 'make',\r\n        },\r\n        {\r\n            title: 'Model',\r\n            dataIndex: 'model',\r\n            key: 'model',\r\n        },\r\n        {\r\n            title: 'Color',\r\n            dataIndex: 'color',\r\n            key: 'color',\r\n        },\r\n        {\r\n            title: 'CC',\r\n            dataIndex: 'CC',\r\n            key: 'CC',\r\n        },\r\n        {\r\n            title: 'Miles',\r\n            dataIndex: 'miles',\r\n            key: 'miles',\r\n        },\r\n        {\r\n            title: 'Price',\r\n            dataIndex: 'price',\r\n            key: 'price',\r\n        },\r\n        {\r\n            title: 'NADA',\r\n            dataIndex: 'NADA',\r\n            key: 'NADA',\r\n        },\r\n        {\r\n            title: 'KBB',\r\n            dataIndex: 'KBB',\r\n            key: 'KBB',\r\n        },\r\n        {\r\n            title: 'Action',\r\n            key: 'action',\r\n            render: (record) => (\r\n                <Space size=\"middle\">\r\n                    <DeleteOutlined onClick={()=> deleteBike(record._id)}/>\r\n                    <EditOutlined onClick={()=> {\r\n                        setSelectedBike(record)\r\n                        setShowForm(!showForm)\r\n                    }}/>\r\n                </Space>\r\n            )\r\n        }\r\n    ]\r\n\r\n    useEffect(() => {\r\n        fetch('https://dealership-vehicle-inventory.herokuapp.com/bikes')\r\n            .then(res => res.json())\r\n            .then(data => setBikes(data))\r\n        setRefresh(false)\r\n    }, [refresh])\r\n\r\n    const addKeyProp = (tableData) => {\r\n        const newTable = []\r\n        let counter = 1\r\n        tableData.forEach((data) => {\r\n            newTable.push({\r\n                ...data,\r\n                key: counter\r\n            })\r\n            counter += 1\r\n        })\r\n        return newTable\r\n    }\r\n\r\n    const deleteBike = (id) => {\r\n        fetch('https://dealership-vehicle-inventory.herokuapp.com/bikes' + id, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log('Deletion Success: ', data)\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error: ', error)\r\n            })\r\n        setRefresh(true)\r\n    }\r\n    // information such as sold, date listed, date sold, COGS, revenue, notes, customer, should be hidden. If user clicks icon show more, then a modal will appear with the info\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                selectedBike &&\r\n                        <UpdateBike \r\n                            showForm={showForm} \r\n                            setShowForm={setShowForm} \r\n                            setRefresh={setRefresh}\r\n                            selectedBike={selectedBike}\r\n                            setSelectedBike={setSelectedBike} \r\n                        />\r\n            }\r\n            <Table \r\n                dataSource={addKeyProp(bikes)} \r\n                columns={columns}\r\n                style={{ padding: '20px 50px' }}\r\n            >\r\n                <Column\r\n                    title=\"Action\"\r\n                    key=\"action\"\r\n                />\r\n            </Table>\r\n            <PostBike setRefresh={setRefresh} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Inventory\r\n"]},"metadata":{},"sourceType":"module"}